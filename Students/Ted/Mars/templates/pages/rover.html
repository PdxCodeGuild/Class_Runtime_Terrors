{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="Marscape"> 
<<<<<<< HEAD
<<<<<<< HEAD
    <div style='text-align:center'>
        <span class="dot" index='2'></span>
        <span class="dot" index='4'></span>
        <span class="dot" index='3' ></span>
        <span class="dot" index='0'></span>
        <span class="dot" index='1'></span>
        
    </div>      

        <div class='helmet'>
            <div class='visor'>
                <img src id = 'first'>
            <!-- class="visor_view" alt="marscape"-->
            </div>
            
        </div>
        <button id="step">step</button>
    <!-- </div> -->
=======
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
        <div id = 'dots' style='text-align:center'>
            <span class="dot" index='2'></span>
            <span class="dot" index='4'></span>
            <span class="dot" index='3'></span>
            <span class="dot" index='0'></span>
            <span class="dot" index='1'></span>      
        </div> 
    <div class='helmet'>
        <div id = 'left'>text here</div>
        <div class='visor'>
            <img src id = 'first' style = 'width: {imgSize}, height: {imgSize}'>
        </div>
        <div id = 'right'>text here</div>
    </div>
<<<<<<< HEAD
>>>>>>> 30d074996118eabf39297f0c7f6137047f4132b6
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
</div>
<script>
    const images = {{serialized_image|safe}}
    const dots = document.querySelectorAll('.dot')
    for(let i = 0; i<dots.length; i++){
<<<<<<< HEAD
<<<<<<< HEAD

    dots[i].addEventListener('click',function trigger(event) {
        let index = event.target.attributes.index.value
        console.log(event.target.attributes.index.value)
        document.getElementById('first').setAttribute('src', images[index].fields.image_link)
=======
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
    dots[i].addEventListener('click',function trigger(event) {
        let index = event.target.attributes.index.value
        document.getElementById('first').setAttribute('src', '')
        document.getElementById('first').setAttribute('src', images[index].fields.image_link)
        mag()
<<<<<<< HEAD
>>>>>>> 30d074996118eabf39297f0c7f6137047f4132b6
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
    })
    }

    console.log(dots)
<<<<<<< HEAD
<<<<<<< HEAD
    let i = 0
    document.getElementById('step').addEventListener("click",
        function walking(){
            console.log(images[0].fields.image_link)
            document.getElementById('first').setAttribute('src', images[0].fields.image_link)
            i++
    // console.log(images[0].fields.image_link);
        }
    );
=======
    
>>>>>>> 30d074996118eabf39297f0c7f6137047f4132b6
=======
    
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
    let slideIndex = 1;

    showSlides(slideIndex);
    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
        console.log(n)
    }

<<<<<<< HEAD
<<<<<<< HEAD
    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("slide");
        let dots = document.getElementsByClassName('dot');
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        for (i =0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace("active", "");
        }
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
    }
    document.getElementById('step').addEventListener("click",
        function walking(){ 
            document.getElementById('first').setAttribute('src', images[0].fields.image_link)
        }
    );
=======
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984
    // function showSlides(n) {
    //     let i;
    //     let slides = document.getElementsById("first");
    //     let dots = document.getElementsByClassName('dot');
    //     if (n > slides.length) {slideIndex = 1}
    //     if (n < 1) {slideIndex = slides.length}
    //     for (i =0; i < slides.length; i++) {
    //         slides[i].style.display = "none";
    //     }
    //     for (i = 0; i < dots.length; i++) {
    //         dots[i].className = dots[i].className.replace("active", "");
    //     }
    //     slides[slideIndex-1].style.display = "block";
    //     dots[slideIndex-1].className += " active";
    // }
    
    async function mag() {
        let image = document.getElementById('first')
        let imgSize = '1000px'
        let startingSize = 990
        let justice = 10
        let justify = '10px'
        image.style.width = imgSize
        image.style.height = imgSize
        image.style.left = justify
        const sleep = (milliseconds) => {
            return new Promise(resolve => setTimeout(resolve, milliseconds))
        }
        for (let i = 0; i< 25; i++) {
            await sleep(1000)
            setTimeout(() => {
                startingSize += 50
                imgSize = startingSize.toString()+'px' 
                justice -= 50
                justify = justice.toString()+'px'         
                document.getElementById('first').style.width = imgSize
                document.getElementById('first').style.height = imgSize
                document.getElementById('first').style.left = justify
            }, 1000)
            
        }
    }
<<<<<<< HEAD
>>>>>>> 30d074996118eabf39297f0c7f6137047f4132b6
=======
>>>>>>> 4996abcf50a91e81220314bf284bb3f2054b4984

    </script>
{% endblock %}